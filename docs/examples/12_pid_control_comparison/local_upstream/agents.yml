# Agents and Controllers Definition for the Local Upstream Control Scenario
agents:
  - id: gate1_ctrl
    class: LocalControlAgent
    config:
      controller:
        class: PIDController
        config:
          Kp: 0.5
          Ki: 0.05
          Kd: 0.1
          setpoint: 5.0 # Target water level for canal_1
          min_output: 0.0
          max_output: 1.0
      observation_topic: "state.canal_1"
      observation_key: "water_level"
      action_topic: "control.gate_1"
      dt: 10 # Must match simulation time_step

  - id: gate2_ctrl
    class: LocalControlAgent
    config:
      controller:
        class: PIDController
        config:
          Kp: 0.5
          Ki: 0.05
          Kd: 0.1
          setpoint: 4.5 # Target water level for canal_2
          min_output: 0.0
          max_output: 1.0
      observation_topic: "state.canal_2"
      observation_key: "water_level"
      action_topic: "control.gate_2"
      dt: 10
