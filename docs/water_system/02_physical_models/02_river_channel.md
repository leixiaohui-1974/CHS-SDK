# 物理模型: 河道 (RiverChannel)

*   **源代码**: `core_lib/physical_objects/river_channel.py`
*   **接口**: `PhysicalObjectInterface`

## 1. 概述

`RiverChannel` 对象用于模拟开放式渠道（如河流、运河）中的水量演进。`core_lib` 中提供了两种不同复杂度的河道模型，以适应不同场景。本文介绍的是简化的模型。

## 2. 数学模型 (线性水库模型)

`river_channel.py` 中实现的模型是一种集总式的**线性水库模型 (Linear Reservoir Model)**。

这个模型不直接计算复杂的水力学过程（如圣维南方程），而是将一段河道视为一个虚拟的“水库”。其核心假设是：**河道的出流量与当前的蓄水量成正比**。

`Outflow = k * Volume`

其中 `k` 是一个需要率定的**蓄清系数 (storage coefficient)**。

在每个 `step()` 中，模型根据上一时刻的蓄水量 `Volume` 计算出当前的出流量 `Outflow`，然后根据水量平衡方程更新当前的蓄水量：

`delta_Volume = (Inflow - Outflow) * dt`

## 3. 关键参数 (`parameters`)

*   `k` (1/秒): 蓄清系数。这个参数决定了水流从河道中排出的速度，值越大，排出越快。它通常需要通过历史数据进行率定。

## 4. 状态变量 (`state`)

*   `volume` (立方米): 当前河段的总蓄水量。
*   `outflow` (立方米/秒): 当前时刻的河段出口流量。

## 5. 交互与局限

*   该模型通过 `set_inflow()` 方法接收上游的总来水量。
*   这是一个概念性的、高度简化的模型。它的优势是计算速度极快，且非常稳定。
*   它适用于需要快速估算洪水传播时间或洪峰衰减的宏观层面分析，或者作为高层级优化模型（如MPC）的内部简化预测模型。
*   它无法模拟精确的水位、流速分布，也无法处理回水等复杂水力现象。

与此模型相对的是基于圣维南方程的高精度模型，它能够更真实地反映复杂的水力学行为。

*   **对比**: 详细的高精度模型介绍请参见 **[./06_st_venant_reach.md](./06_st_venant_reach.md)**。
